<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<title>Plant Monitoring System</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha256-aAr2Zpq8MZ+YA/D6JtRD3xtrwpEz2IqOS+pWD/7XKIw=" crossorigin="anonymous" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.1/css/ion.rangeSlider.min.css" integrity="sha256-g7HgoMySZyonuPwHTORf+uGHEeOm7VRI2kfXWXlJnco=" crossorigin="anonymous" />
		<link rel="stylesheet" href="/css/styles.css">
        <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
		<script>
			var test = document.createElement("div")
			test.className = "hidden d-none"
		
			document.head.appendChild(test)
			var cssLoaded = window.getComputedStyle(test).display === "none"
			document.head.removeChild(test)
		
			if (!cssLoaded) {
				var link = document.createElement("link");

				link.type = "text/css";
				link.rel = "stylesheet";
				link.href = "/css/main.css";
		
				document.head.appendChild(link);
			}
		</script>
    </head>
    <body>
		<nav class="navbar navbar-expand-md navbar-dark">
			<a class="navbar-brand mr-auto" href="/"><img src="/img/logo.png" height="30" width="30"></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
			<div class="collapse navbar-collapse" id="navbarSupportedContent">
				<ul class="navbar-nav mr-auto">
					<li class="nav-item"> <a class="nav-link" href="/">Home</a> </li>
				<li class="nav-item active"> <a class="nav-link" href="#">Actions <span class="sr-only">(current)</span></a> </li>
				<li class="nav-item"> <a class="nav-link" href="/graphs">Graphs</a> </li>
				<li class="nav-item"> <a class="nav-link" href="/logs">Logs</a> </li>
				<li class="nav-item"> <a class="nav-link" href="/about">About</a> </li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Details </a>
					<div class="dropdown-menu" aria-labelledby="navbarDropdown">
						<a class="dropdown-item" href="/temperature">Temperature</a>
						<a class="dropdown-item" href="/humidity">Humidity</a>
						<a class="dropdown-item" href="/moisture">Moisture</a>
						<a class="dropdown-item" href="/windspeed">windspeed</a>
						<div class="dropdown-divider"></div>
						<a class="dropdown-item" href="/watertank">Water Tank</a>
					</div>
				</li>
				</ul>
				<!-- <button class="btn btn-outline-light mx-md-2 my-2 my-sm-0 align-self-center" id="signupmodalButton">Signup</button>
				<button class="btn btn-outline-light ml-2 my-2 my-sm-0 align-self-center" id="loginmodalButton">Login</button> -->
			</div>
		</nav>
		<%- include('partials/decore.ejs') %>

		<%- include('partials/jumbotron.ejs') %>
		
		<section>
			<div class="container">
				<div class="row">
					<div class="col-12 mb-5 text-center">
						<h2><img class="mb-2 mr-3" alt="action icon" height="30px" width="30px" src="/svg/actions.svg" data-holder-rendered="true">Actions</h2>
					</div>
					</div>
					<div class="row mb-5">
                        <div class="col-12">
                            <div class="card">
								<h3 class="card-header bg-success text-white">Weather Station</h3>
								<div class="row">
									<div class="col-md-3 text-center align-self-center mt-3">
										<img alt="weather station icon" height="140px" width="140px" src="/svg/station.svg" data-holder-rendered="true">
									</div>
									<div class="col-md-9">
										<div class="card-body">
											<form>
												<div class="form-group row text-center">
													<label for="restartButton" class="col-sm-12 mt-5 col-form-label"><h3>Current Status: <span id="stationstatus"></span></h3></label>
												</div>
												<div class="form-group row">
													<div class="col-sm-6 mt-3 text-center">
														<button type="button" id="restartButton" class="btn btn-warning">Restart Weather Station</button>
													</div>
													<div class="col-sm-6 mt-3 text-center">
														<button type="button" id="shutdownButton" class="btn btn-danger">Shutdown Weather Station</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								</div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col-12">
                            <div class="card">
								<h3 class="card-header bg-success text-white">Water Pump</h3>
								<div class="row">
									<div class="col-md-3 text-center align-self-center">
										<img alt="motor icon" height="140px" width="140px" src="/svg/control.svg" data-holder-rendered="true">
									</div>
									<div class="col-md-9">
										<div class="card-body">
											<form>
												<div class="form-group row text-center">
													<label for="restart-button" class="col-sm-12 mt-5 col-form-label"><h3>Current Status: <span id="pumpstatus"></span></h3></label>
												</div>
												<div class="form-group row text-center">
													<div class="col-sm-12 mt-2">
													  <button type="button" id="pumpButton" class="btn btn-danger">Toggle Pump</button>
													</div>
												</div>
											</form>
										</div>
									</div>
								</div>
                            </div>
                        </div>
                    </div>
                    <div class="row mb-5">
                        <div class="col-12">
                            <div class="card">
								<h3 class="card-header bg-success text-white">Settings</h3>
								<div class="row no-gutters">
									<div class="col-md-3 text-center align-self-center mt-3">
										<img alt="settings icon" height="220px" width="220px" src="/svg/limits.svg" data-holder-rendered="true">
									</div>
									<div class="col-md-9">
										<div class="card-body">
											<form id="settings">
												<div class="form-group row">
												  <label for="temprature_range" class="col-sm-2 col-form-label align-self-center">Temperature</label>
												  <div class="col-sm-10">
													<input type="text" class="js-range-slider" name="temprature_range" id="temprature_range"/>
												  </div>
												</div>
												<div class="form-group row">
													<label for="humidity_range" class="col-sm-2 col-form-label align-self-center">Humidity</label>
													<div class="col-sm-10">
													  <input type="text" class="js-range-slider" name="humidity_range" id="humidity_range"/>
													</div>
												</div>
												<div class="form-group row">
													<label for="moisture_range" class="col-sm-2 col-form-label align-self-center">Moisture</label>
													<div class="col-sm-10">
													  <input type="text" class="js-range-slider" name="moisture_range" id="moisture_range"/>
													</div>
												</div>
												<div class="form-group row">
													<label for="windspeed_range" class="col-sm-2 col-form-label align-self-center">windspeed</label>
													<div class="col-sm-10">
													  <input type="text" class="js-range-slider" name="windspeed_range" id="windspeed_range"/>
													</div>
												</div>
												<div class="form-group row">
													<label for="waterlevel_range" class="col-sm-2 col-form-label align-self-center">Water Level</label>
													<div class="col-sm-10">
													  <input type="text" class="js-range-slider" name="waterlevel_range" id="waterlevel_range"/>
													</div>
												</div>
												<div class="form-group row">
												  <div class="col-sm-2 align-self-center">Alert Settings</div>
												  <div class="col-sm-10 mt-3">
													<div class="custom-control custom-switch">
														<input class="custom-control-input" type="checkbox" id="tempalert" name="tempalert">
													  <label class="custom-control-label" for="tempalert">
														Alert when Temperature value crosses threshold
													  </label>
													</div>
													<div class="custom-control custom-switch">
														<input class="custom-control-input" type="checkbox" id="humidalert" name="humidalert">
														<label class="custom-control-label" for="humidalert">
														  Alert when Humidity value crosses threshold
														</label>
													</div>
													<div class="custom-control custom-switch">
														<input class="custom-control-input" type="checkbox" id="moisturealert" name="moisturealert">
														<label class="custom-control-label" for="moisturealert">
														  Alert when Moisture value crosses threshold
														</label>
													</div>
													<div class="custom-control custom-switch">
														<input class="custom-control-input" type="checkbox" id="settingsemailalert" name="settingsemailalert">
														<label class="custom-control-label" for="settingsemailalert">
														Alert me via Email
														</label>
													</div>
													<div class="custom-control custom-switch">
														<input class="custom-control-input" type="checkbox" id="settingssmsalert" name="settingssmsalert">
														<label class="custom-control-label" for="settingssmsalert">
														Alert me via SMS
														</label>
													</div>
												  </div>
												</div>
												<div class="form-group row">
												  <div class="col-sm-10 align-self-center text-center mt-3">
													<button type="button" id="updatesettingsButton" class="btn btn-warning">Update Preferences</button>
												  </div>
												</div>
											  </form>
										</div>
									</div>
								</div>
                            </div>
                        </div>
                    </div>
				</div>
			</div>
		</section>
		
		<%- include('partials/footer.ejs') %>
        <!-- jQuery first, then Popper.js, then Bootstrap JS. -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.bundle.min.js" integrity="sha256-Xt8pc4G0CdcRvI0nZ2lRpZ4VHng0EoUDMlGcBSQ9HiQ=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.1/js/ion.rangeSlider.min.js" integrity="sha256-Z639rJO57BiZzQDlWsGyF+EJ3Fs3nD4pQPkfimTy3S8=" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js" integrity="sha256-T/f7Sju1ZfNNfBh7skWn0idlCBcI3RwdLSS4/I7NQKQ=" crossorigin="anonymous"></script>
		<script src="/js/scripts.js"></script>
		<script src="/js/get_data.js"></script>
		<script src="/js/material_status.js"></script>
    </body>
</html>